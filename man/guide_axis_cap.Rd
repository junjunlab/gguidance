% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/guide_axis_cap.R
\name{guide_axis_cap}
\alias{guide_axis_cap}
\title{Axis guide with capped axis line}
\usage{
guide_axis_cap(cap_lower = min, cap_upper = max, ...)
}
\arguments{
\item{cap_lower, cap_upper}{A way to set the lower and upper ranges for
axis capping Can be one of the following:
\itemize{
\item \code{NULL} to not perform any axis capping.
\item A \code{function} that takes the break positions as input and returns the
lower or upper boundary. Note that also for discrete scales, the inputs
are the mapped breaks, which are \code{numeric}. A \code{function} input can also
be given as \link[rlang:as_function]{lambda syntax}.
\item A \code{numeric} value, in data units, for the lower and upper boundaries.
\item A \code{\link[grid:unit]{<unit>}} object to set the boundaries independent of
any data.
}}

\item{...}{
  Arguments passed on to \code{\link[=guide_axis_extend]{guide_axis_extend}}
  \describe{
    \item{\code{subtitle}}{A \code{character()} or \code{expression()} giving a subtitle for the
guide. If \code{NULL} (default), no subtitle will be shown. If
\code{length(subtitle) > 1}, text will be distributed over axis and \code{hjust}
setting will be ignored.}
    \item{\code{subtitle.theme}}{An \code{\link[ggplot2:element]{<element_text>}} object
or \verb{<element_blank>} object controlling the appearance of the \code{subtitle}
argument. By default, it inherits from the relevant
\verb{axis.text.\{x/y\}.\{position\}} theme setting.}
    \item{\code{colour,color}}{A \code{character(1)} with a valid colour for simultaneously
changing the colour or the axis text, axis ticks and axis line. If \code{NULL}
(default), inherit colours directly from the theme. Otherwise, theme
settings are overruled.}
    \item{\code{minor_size}}{A \code{numeric(1)} giving the relative size of minor axis ticks
relative to major axis ticks, as defined by the
\verb{axis.ticks.length.\{x/y\}.\{position\}} theme element. If \code{NULL} (default),
minor axis ticks are not shown.}
    \item{\code{major_size}}{A \code{numeric(1)} giving the relative size of major ticks
relative to the \verb{axis.ticks.length.\{x/y\}.\{position\}} theme element. If
\code{NULL} (default), major ticks are drawn to the theme's length.}
    \item{\code{title}}{A character string or expression indicating a title of guide.
If \code{NULL}, the title is not shown. By default
(\code{\link[ggplot2:waiver]{waiver()}}), the name of the scale object or the name
specified in \code{\link[ggplot2:labs]{labs()}} is used for the title.}
    \item{\code{check.overlap}}{silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.}
    \item{\code{angle}}{Compared to setting the angle in \code{\link[ggplot2:theme]{theme()}} / \code{\link[ggplot2:element_text]{element_text()}},
this also uses some heuristics to automatically pick the \code{hjust} and \code{vjust} that
you probably want.}
    \item{\code{n.dodge}}{The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.}
    \item{\code{order}}{A positive \code{integer} of length 1 that specifies the order of
this guide among multiple guides. This controls in which order guides are
merged if there are multiple guides for the same position. If 0 (default),
the order is determined by a secret algorithm.}
    \item{\code{position}}{Where this guide should be drawn: one of top, bottom,
left, or right.}
  }}
}
\value{
A \verb{<Guide>} ggproto object that can be given to the
\code{\link[ggplot2:guides]{guides()}} function, or set as the \code{guide} argument
in a position scale.
}
\description{
This is very similar to a regular axis guide, with the addition that the
axis line can be capped By default, the axis line is capped at the
most extreme breaks, but other options are available.
}
\examples{
# A basic plot with axis lines
p <- ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  theme(axis.line = element_line())

# By default, axis lines are truncated to extreme breaks
p + guides(x = "axis_trunc")

# Turn off truncation at only one end
p + guides(x = guide_axis_trunc(trunc_upper = NULL))

# Truncated at specific data values
p + guides(x = guide_axis_trunc(trunc_lower = 3, trunc_upper = 6))

# Truncated at some distance
p + guides(x = guide_axis_trunc(
  trunc_lower = unit(3, "cm"),
  trunc_upper = unit(1, "npc") - unit(3, "cm")
))

# Truncation with functions take existing breaks as input
p + guides(x = guide_axis_trunc(
  trunc_lower = function(x) x - 0.3,
  trunc_upper = ~ .x + 0.3 # rlang lambda syntax function
))
}
\seealso{
Other axis variants: 
\code{\link{guide_axis_extend}()},
\code{\link{guide_axis_minor}()},
\code{\link{guide_axis_table}()}
}
\concept{axis variants}
